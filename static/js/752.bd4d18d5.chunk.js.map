{"version":3,"file":"static/js/752.bd4d18d5.chunk.js","mappings":"+OAEA,EADoB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,oPAAwP,KAAQ,SAAU,MAAS,Y,WCM1aA,EAAgB,SAAuBC,EAAOC,GAChD,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,IAAcA,EAAAA,EAAAA,GAAc,GAAIJ,GAAQ,GAAI,CAC5FC,IAAKA,EACLI,KAAMC,MAIVP,EAAcQ,YAAc,gBAC5B,MAA4BL,EAAAA,WAAiBH,G,kECVrCS,EAAYC,EAAAA,EAAAA,QACL,SAASC,IACpB,OAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAKC,EAAL,KAAiBC,EAAjB,KACIC,GAAWC,EAAAA,EAAAA,MACPC,EAAaC,KAAKC,MAAMC,aAAaC,QAAQ,UAA7CJ,SACFK,EAAU,CACZ,CACIC,MAAO,KACPC,UAAW,KACXC,MAAO,IACPC,OAAQ,SAACC,GACL,OAAO,uBAAIA,MAGnB,CACIJ,MAAO,2BACPC,UAAW,QACXC,MAAO,IACPC,OAAQ,SAACH,EAAOK,GACZ,OAAO,SAAC,KAAD,CAAMC,GAAE,+BAA0BD,EAAKD,IAAMG,MAAOF,EAApD,SAA2DL,MAG1E,CACIA,MAAO,eACPC,UAAW,UAEf,CACID,MAAO,eACPC,UAAW,gBAEf,CACID,MAAO,eACPG,OAAQ,SAACE,GA8BL,OAAO,4BACH,SAAC,IAAD,CAAQG,KAAK,UAAUzB,MAAM,SAAC0B,EAAA,EAAD,IACzBC,MAAO,CAAEC,YAAa,QAAUC,QALzB,WACXpB,EAAS,uBAAD,OAAwBa,EAAKD,IAAM,CAAEG,MAAOF,QAMpD,SAAC,IAAD,CAAQG,KAAK,SAASzB,MAAM,SAAC8B,EAAA,EAAD,IACxBH,MAAO,CAAEC,YAAa,QAAUC,QAlCtB,WACd1B,EAAQ,CACJc,MAAO,6CACPjB,MAAM,SAAC+B,EAAA,EAAD,IACNC,OAAQ,eACRC,WAAY,eACZC,KALI,WAMAC,IAAAA,KAAW,sBAAuB,CAAEd,GAAIC,EAAKD,KAAMe,MAAK,WACpD5B,EAAcD,EAAW8B,QAAO,SAAAC,GAAI,OAAIA,EAAKjB,KAAOC,EAAKD,OACzDkB,EAAAA,EAAAA,KAAkB,CACdC,QAAS,iCACTC,UAAW,uBA0B3B,SAAC,IAAD,CAAQhB,KAAK,UAAUI,QApBX,WACZM,IAAAA,KAAW,mBAAX,kBAAmCb,GAAnC,IAAyCoB,WAAY,KAAKN,MAAK,WAC3D5B,EAAcD,EAAW8B,QAAO,SAAAC,GAAI,OAAIA,EAAKjB,KAAOC,EAAKD,OACzDkB,EAAAA,EAAAA,KAAkB,CACdC,QAAS,+DACTC,UAAW,iBAesBzC,MAAM,SAAC,EAAD,YAU/D,OALA2C,EAAAA,EAAAA,YAAU,WACNR,IAAAA,KAAW,6BAA8B,CAAES,OAAQjC,IAAYyB,MAAK,SAACS,GACjErC,EAAcqC,EAAIP,WAEvB,CAAC3B,KAEA,0BACI,SAAC,IAAD,CAAOK,QAASA,EAAST,WAAYA,EAAYuC,WAAY,CAAEC,SAAU,GAAKC,OAAO,W,+ECrFjG,EADqB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,0VAA8V,KAAQ,SAAU,MAAS,Y,WCMjhBlB,EAAiB,SAAwBnC,EAAOC,GAClD,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,IAAcA,EAAAA,EAAAA,GAAc,GAAIJ,GAAQ,GAAI,CAC5FC,IAAKA,EACLI,KAAMiD,MAIVnB,EAAe5B,YAAc,iBAC7B,MAA4BL,EAAAA,WAAiBiC,I,+ECb7C,EADmB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uZAA2Z,KAAQ,OAAQ,MAAS,Y,WCM1kBJ,EAAe,SAAsB/B,EAAOC,GAC9C,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,IAAcA,EAAAA,EAAAA,GAAc,GAAIJ,GAAQ,GAAI,CAC5FC,IAAKA,EACLI,KAAMkD,MAIVxB,EAAaxB,YAAc,eAC3B,MAA4BL,EAAAA,WAAiB6B","sources":["../node_modules/@ant-design/icons-svg/es/asn/ToTopOutlined.js","../node_modules/@ant-design/icons/es/icons/ToTopOutlined.js","views/NewsSandBox/news-manage/NewsDraft/index.jsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js"],"sourcesContent":["// This icon file is generated automatically.\nvar ToTopOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M885 780H165c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM400 325.7h73.9V664c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V325.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 171a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13z\" } }] }, \"name\": \"to-top\", \"theme\": \"outlined\" };\nexport default ToTopOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ToTopOutlinedSvg from \"@ant-design/icons-svg/es/asn/ToTopOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ToTopOutlined = function ToTopOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ToTopOutlinedSvg\n  }));\n};\n\nToTopOutlined.displayName = 'ToTopOutlined';\nexport default /*#__PURE__*/React.forwardRef(ToTopOutlined);","import React, { useState, useEffect } from 'react'\r\nimport { Table, Button, Modal, notification } from 'antd'\r\nimport axios from 'axios';\r\nimport { DeleteOutlined, EditOutlined, ToTopOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nconst { confirm } = Modal\r\nexport default function NewsDraft() {\r\n    let [dataSource, setDataSource] = useState([])\r\n    let navigate = useNavigate()\r\n    const { username } = JSON.parse(localStorage.getItem('token'))\r\n    const columns = [\r\n        {\r\n            title: 'Id',\r\n            dataIndex: 'id',\r\n            width: 240,\r\n            render: (id) => {\r\n                return <b>{id}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '新闻标题',\r\n            dataIndex: 'title',\r\n            width: 480,\r\n            render: (title, item) => {\r\n                return <Link to={`/news-manage/preview/${item.id}`} state={item}>{title}</Link>\r\n            }\r\n        },\r\n        {\r\n            title: '作者',\r\n            dataIndex: 'author',\r\n        },\r\n        {\r\n            title: '分类',\r\n            dataIndex: 'categoryName',\r\n        },\r\n        {\r\n            title: '操作',\r\n            render: (item) => {\r\n                const deleteNew = () => {\r\n                    confirm({\r\n                        title: '确定要删除吗？',\r\n                        icon: <ExclamationCircleOutlined />,\r\n                        okText: '确认',\r\n                        cancelText: '取消',\r\n                        onOk() {\r\n                            axios.post('/api/deleteNewsById', { id: item.id }).then(() => {\r\n                                setDataSource(dataSource.filter(data => data.id !== item.id))\r\n                                notification.info({\r\n                                    message: '删除成功！',\r\n                                    placement: 'topRight',\r\n                                });\r\n                            })\r\n                        },\r\n                    });\r\n                }\r\n                const publish = () => {\r\n                    axios.post('/api/updateNews', { ...item, auditState: 1 }).then(() => {\r\n                        setDataSource(dataSource.filter(data => data.id !== item.id))\r\n                        notification.info({\r\n                            message: '发布成功，等待审核！',\r\n                            placement: 'topRight',\r\n                        });\r\n                    })\r\n                }\r\n                const goEdit = () => {\r\n                    navigate(`/news-manage/update/${item.id}`, { state: item })\r\n                }\r\n                return <div>\r\n                    <Button type='primary' icon={<EditOutlined />}\r\n                        style={{ marginRight: '10px' }} onClick={goEdit}>\r\n                    </Button>\r\n                    <Button type='danger' icon={<DeleteOutlined />}\r\n                        style={{ marginRight: '10px' }} onClick={deleteNew}\r\n                    >\r\n                    </Button>\r\n                    <Button type='primary' onClick={publish} icon={<ToTopOutlined />}></Button>\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n    useEffect(() => {\r\n        axios.post('/api/getState0NewsByAuthor', { author: username }).then((res) => {\r\n            setDataSource(res.data)\r\n        })\r\n    }, [username])\r\n    return (\r\n        <div>\r\n            <Table columns={columns} dataSource={dataSource} pagination={{ pageSize: 5 }} rowKey='id' />\r\n        </div>)\r\n}\r\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);"],"names":["ToTopOutlined","props","ref","React","AntdIcon","_objectSpread","icon","ToTopOutlinedSvg","displayName","confirm","Modal","NewsDraft","useState","dataSource","setDataSource","navigate","useNavigate","username","JSON","parse","localStorage","getItem","columns","title","dataIndex","width","render","id","item","to","state","type","EditOutlined","style","marginRight","onClick","DeleteOutlined","ExclamationCircleOutlined","okText","cancelText","onOk","axios","then","filter","data","notification","message","placement","auditState","useEffect","author","res","pagination","pageSize","rowKey","DeleteOutlinedSvg","EditOutlinedSvg"],"sourceRoot":""}