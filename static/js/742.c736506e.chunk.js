"use strict";(self.webpackChunkht=self.webpackChunkht||[]).push([[742],{4742:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(1413),i=n(29439),a=n(74569),o=n.n(a),u=n(72791),c=n(43504),d=n(13085),l=n(87309),s=n(62213),f=n(80184);function p(){var t=JSON.parse(localStorage.getItem("token")),e=t.region,n=t.roleId,a=(0,u.useState)([]),p=(0,i.Z)(a,2),g=p[0],h=p[1];(0,u.useEffect)((function(){o().get("/api/getNewsToAudit",{params:{roleId:n,region:e}}).then((function(t){h(t.data),console.log(t)}))}),[e,n]);var m=[{title:"\u65b0\u95fb\u6807\u9898",dataIndex:"title",width:480,render:function(t,e){return(0,f.jsx)(c.rU,{to:"/news-manage/preview/".concat(e.id),state:e,children:t})}},{title:"\u4f5c\u8005",dataIndex:"author"},{title:"\u65b0\u95fb\u5206\u7c7b",dataIndex:"categoryName"},{title:"\u64cd\u4f5c",render:function(t){var e=function(e){var n=2===e?1:0;o().post("./api/updateNews",(0,r.Z)((0,r.Z)({},t),{},{auditState:e,publishState:n})).then((function(){d.Z.info({message:"\u5ba1\u6838\u6210\u529f\uff01",placement:"topRight"}),h(g.filter((function(e){return e.id!==t.id})))}))};return(0,f.jsxs)("div",{children:[(0,f.jsx)(l.Z,{type:"danger",style:{marginRight:"10px"},onClick:function(){return e(3)},children:"\u9a73\u56de"}),(0,f.jsx)(l.Z,{type:"primary",onClick:function(){return e(2)},children:"\u901a\u8fc7"})]})}}];return(0,f.jsx)(s.Z,{dataSource:g,columns:m,rowKey:function(t){return t.title},pagination:{pageSize:5}})}}}]);
//# sourceMappingURL=742.c736506e.chunk.js.map