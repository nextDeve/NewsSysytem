"use strict";(self.webpackChunkht=self.webpackChunkht||[]).push([[57],{89057:function(e,t,i){i.r(t),i.d(t,{default:function(){return O}});var a=i(29439),n=i(72791),s=i(3383),r=i(66106),o=i(30914),c=i(2126),l=i(47528),d=i(2649),h=i(88894),u=i(78622),p=i(31752),x=i(75033),f=i(74569),g=i.n(f),m=i(43504),j=i(44357),Z=i(76009),y=i(84017),w=i(17115),v=i(61665),S=i(85616),b=i(48127),N=i(46899),C=i(59979),I=i(45687),T=i(80184),k=s.Z.Meta;function O(){var e=JSON.parse(localStorage.getItem("token")),t=e.username,i=e.roleType,f=e.region,j=(0,n.useState)([]),y=(0,a.Z)(j,2),w=y[0],v=y[1],S=(0,n.useState)([]),b=(0,a.Z)(S,2),N=b[0],C=b[1],I=(0,n.useState)(!1),O=(0,a.Z)(I,2),P=O[0],A=O[1],B=(0,n.useState)([]),z=(0,a.Z)(B,2),E=z[0],W=z[1],q=(0,n.useState)([]),J=(0,a.Z)(q,2),L=J[0],R=J[1],U=(0,n.useState)(),D=(0,a.Z)(U,2),F=D[0],G=D[1],H=(0,n.useState)(),M=(0,a.Z)(H,2),V=M[0],X=M[1],K=(0,n.createRef)(),Q=(0,n.createRef)();(0,n.useEffect)((function(){g().get("/api/getNewsBySortType",{params:{sortType:1}}).then((function(e){v(e.data)})),g().get("/api/getNewsBySortType",{params:{sortType:2}}).then((function(e){C(e.data)})),g().get("/api/getCountInfo").then((function(e){W(e.data)})),g().get("/api/getCountInfoByAuthor",{params:{author:t}}).then((function(e){R(e.data)}))}),[t]),(0,n.useEffect)((function(){var e={title:{text:"\u65b0\u95fb\u5206\u7c7b\u56fe\u793a"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",name:"\u7c7b\u522b",data:E.x,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"\u6570\u91cf/\u7bc7",minInterval:1}],series:[{name:"\u6570\u91cf",type:"bar",barWidth:"60%",data:E.y}]};void 0===F&&G(Z.S1(K.current)),F&&F.setOption(e,!0)}),[E,K,F]);window.onresize=function(){F.resize()};return(0,T.jsxs)(n.Fragment,{children:[(0,T.jsxs)(r.Z,{gutter:10,children:[(0,T.jsx)(o.Z,{span:8,children:(0,T.jsx)(s.Z,{title:"\u7528\u6237\u6700\u5e38\u6d4f\u89c8",children:(0,T.jsx)(c.ZP,{dataSource:w,renderItem:function(e){return(0,T.jsxs)(c.ZP.Item,{children:[(0,T.jsx)(m.rU,{to:"/news-manage/preview/".concat(e.id),state:e,children:e.title}),(0,T.jsx)(l.Z,{color:"cyan",children:e.view})]})}})})}),(0,T.jsx)(o.Z,{span:8,children:(0,T.jsx)(s.Z,{title:"\u7528\u6237\u70b9\u8d5e\u6700\u591a",children:(0,T.jsx)(c.ZP,{dataSource:N,renderItem:function(e){return(0,T.jsxs)(c.ZP.Item,{children:[(0,T.jsx)(m.rU,{to:"/news-manage/preview/".concat(e.id),state:e,children:e.title}),(0,T.jsx)(l.Z,{color:"purple",children:e.star})]})}})})}),(0,T.jsxs)(o.Z,{span:8,children:[(0,T.jsx)(s.Z,{cover:(0,T.jsx)("img",{alt:"example",src:"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png"}),actions:[(0,T.jsx)(u.Z,{onClick:function(){A(!0)}},"setting"),(0,T.jsx)(p.Z,{},"edit"),(0,T.jsx)(x.Z,{},"ellipsis")],children:(0,T.jsx)(k,{avatar:(0,T.jsx)(d.C,{src:"https://joeschmoe.io/api/v1/random"}),title:t,description:"".concat(""===f?"\u5168\u7403":f,"  ").concat(i)})}),","]})]}),(0,T.jsx)("div",{style:{height:"500px",width:"100%"},ref:K}),(0,T.jsx)(h.Z,{title:"\u7edf\u8ba1\u4fe1\u606f",placement:"right",onClose:function(){A(!1)},visible:P,width:600,afterVisibleChange:function(){var e,t={title:{text:"\u5f53\u524d\u7528\u6237\u65b0\u95fb\u5206\u7c7b\u56fe\u793a",left:"center"},tooltip:{trigger:"item"},series:[{name:"\u53d1\u5e03\u6570\u91cf",type:"pie",radius:"50%",data:L,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};void 0===V&&(e=Z.S1(Q.current),X(e)),e&&e.setOption(t,!0)},children:(0,T.jsx)("div",{style:{height:"100%",width:"100%"},ref:Q})})]})}j.D([y.N,w.N,N.N,b.N,v.N,C.N,I.T,S.N])}}]);
//# sourceMappingURL=57.d6c8a110.chunk.js.map